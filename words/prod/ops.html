
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Operate &#8212; PROD</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=afb57fd3" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'words/prod/ops';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Lattices" href="latt.html" />
    <link rel="prev" title="Define" href="defs.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/logo.svg" class="logo__image only-light" alt="PROD - Home"/>
    <img src="../../_static/logo.svg" class="logo__image only-dark pst-js-only" alt="PROD - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    PROD
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../pre/prelim.html">PRE</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../pre/sets.html">Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pre/numbers.html">Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pre/algebra.html">Algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pre/poset.html">Orders</a></li>

</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="prod.html">MAIN</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="defs.html">Define</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Operate</a></li>
<li class="toctree-l2"><a class="reference internal" href="latt.html">Lattices</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../post/post.html">POST</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../post/next.html">Next Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../post/note.html">Note from the author</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="draw.html">CODE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Symbols and Jargon</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/prodgang/prod/issues/new?title=Issue%20on%20page%20%2Fwords/prod/ops.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button"
   title="Open an issue"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/words/prod/ops.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Operate</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#counter-productive-operations">Counter-productive operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#addition">Addition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multiplication">Multiplication</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exponentiation">Exponentiation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list-operations">List operations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#productive-operations">Productive operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grokking-graft">Grokking Graft</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#and-prune">… and prune</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="operate">
<span id="sections-prod-ops"></span><h1>Operate<a class="headerlink" href="#operate" title="Link to this heading">#</a></h1>
<p>The <a class="reference internal" href="defs.html#sections-prod-iso"><span class="std std-ref">previous section</span></a> showed we can write any natural number uniquely as a prod. That’s great. But what can we do with prods?</p>
<p>In this section, we’ll take a look at some extremely simple operations that do some extremely cool things. But first, let’s take a look at some bad operations.</p>
<section id="counter-productive-operations">
<h2>Counter-productive operations<a class="headerlink" href="#counter-productive-operations" title="Link to this heading">#</a></h2>
<p>My criteria for a bad operation is that it cannot be defined in a form that’s coherent with productive numbers themselves. We’ll see that counting is a bad operation - hence counter-productive. Haha.</p>
<section id="addition">
<h3>Addition<a class="headerlink" href="#addition" title="Link to this heading">#</a></h3>
<p>Recall that <a class="reference internal" href="../pre/numbers.html#sections-numbers-peano"><span class="std std-ref">Peano arithmetic</span></a> kicks off by defining addition. How do you think we could define addition in productive arithmetic?</p>
<p>The quick answer is that you can’t. Just adding one to a number will change its factorization properties in very unpredictable ways. Basically all you can guarantee is that its factors will be completely different. So its not gonna happen. I don’t know how to formally prove this, so if you don’t believe me just try it yourself.</p>
</section>
<section id="multiplication">
<h3>Multiplication<a class="headerlink" href="#multiplication" title="Link to this heading">#</a></h3>
<p>Next operation: multiplication. There’s a very good case that you should be able to define multiplication productively: the fundamental idea behind prods is multiplying primes so that’s kind of what they’re all about. We can even see this happen with an example. Take a look at the trees of <span class="math notranslate nohighlight">\(4,3,12\)</span> and remember that <span class="math notranslate nohighlight">\(12 = 4 \times 3\)</span>:</p>
<a class="reference internal image-reference" href="../../_images/p4.svg"><img alt="4 as tree" src="../../_images/p4.svg" style="height: 75px;" /></a>
<a class="reference internal image-reference" href="../../_images/p3.svg"><img alt="3 as tree" src="../../_images/p3.svg" style="height: 50px;" /></a>
<a class="reference internal image-reference" href="../../_images/p12.svg"><img alt="12 as tree" src="../../_images/p12.svg" style="height: 75px;" /></a>
<p>You can literally see how four and three are just attached to each other side by side to give <span class="math notranslate nohighlight">\(12\)</span>! Indeed, any time <span class="math notranslate nohighlight">\(x,y\)</span> don’t share any factors (i.e. are coprime), you can multiply them side-by-side like this. However, when they <em>do</em> share factors, then we’re back to the classic equation: <span class="math notranslate nohighlight">\(a^b \times a^c = a^{b+c}\)</span>. So multiplication reduces to addition. So multiplication is counter-productive.</p>
</section>
<section id="exponentiation">
<h3>Exponentiation<a class="headerlink" href="#exponentiation" title="Link to this heading">#</a></h3>
<p>There’s a similar story for exponentiation. While you can get away with writing <span class="math notranslate nohighlight">\(2^x\)</span> as <span class="math notranslate nohighlight">\([x]\)</span> and even <span class="math notranslate nohighlight">\(6^x = [x, x]\)</span>, as soon as you have nested powers you have to eventually use the fact that <span class="math notranslate nohighlight">\((x^y)^z = x^{y \times z}\)</span>. So expontentiation reduces to multiplication. So expontention is counter-productive. And so on.</p>
<p>It’s kind of interesting that none of the usual arithmetic operations work. Even though these counter-examples were not hard to find, it would have been reasonable to expect that defining prods based on taking the product of prime powers would at least allow you to do products and powers. But you can’t. So we need to think more carefully.</p>
</section>
<section id="list-operations">
<h3>List operations<a class="headerlink" href="#list-operations" title="Link to this heading">#</a></h3>
<p>A fun way to test the rapidly developing abilities of language models is to try to get them to recreate prod arithmetic from scratch. Its a useful test case because there’s been no trace of prods on the internet (until now) and so they really are required to work things out from scratch, as opposed to memorizing the thousands of training examples they’ve seen. In the past few years, they’ve gone from being incapable of consistently writing numbers productively to proving <a class="reference internal" href="defs.html#ftpa">Theorem 5</a> given only the axioms.</p>
<p>However, even the newest models continue to suck at coming up with productive operations. What usually happens is they propose some additive operation, I repeat the argument from above to show its not productive and then they switch to list based operations.</p>
<p>For example, given two lists you can <em>concantenate</em> them which just means stick one on the end of the other one. So <span class="math notranslate nohighlight">\([a, b, c] + [d, e] = [a, b, c, d, e]\)</span>. But this is not a productive operation because it does not respect the padding axiom <a class="reference internal" href="defs.html#equation-prodpad">(15)</a>: you can pad then concatenate to get <span class="math notranslate nohighlight">\([0] + [[]] = [0, []]\)</span> or you can concatenate then pad to get <span class="math notranslate nohighlight">\([] + [[]] = [[]] = [[], 0]\)</span>, which is very different.</p>
<p>So operations that are natural for lists are not necessarily productive.</p>
</section>
</section>
<section id="productive-operations">
<h2>Productive operations<a class="headerlink" href="#productive-operations" title="Link to this heading">#</a></h2>
<p>Let’s take a step back. Rather than trying to reinvent the wheel, let’s just find the simplest possible productive operations and see what they end up doing.</p>
<section id="grokking-graft">
<h3>Grokking Graft<a class="headerlink" href="#grokking-graft" title="Link to this heading">#</a></h3>
<p>The simplest prod is <span class="math notranslate nohighlight">\(0\)</span> and the simplest thing to do with <span class="math notranslate nohighlight">\(0\)</span> is nothing. So let’s define an operation that does nothing with zero:</p>
<div class="math notranslate nohighlight" id="equation-graft0">
<span class="eqno">(18)<a class="headerlink" href="#equation-graft0" title="Link to this equation">#</a></span>\[   0 \sqcup x = x = x \sqcup 0\]</div>
<p>I’ve chosen the <span class="math notranslate nohighlight">\(\sqcup\)</span> symbol to suggestively look like the set union symbol, and made it square because prod has square vibes. But <a class="reference internal" href="#equation-graft0">(18)</a> isn’t enough for a fully fledged operation, because what happens to nonzero prods? What about the simplest possible thing:</p>
<div class="math notranslate nohighlight" id="equation-graft1">
<span class="eqno">(19)<a class="headerlink" href="#equation-graft1" title="Link to this equation">#</a></span>\[   [x_1, ..., x_n] \sqcup [y_1, ..., y_n] = [x_1 \sqcup y_1, ..., x_n \sqcup y_n]\]</div>
<p>On trees this looks like:</p>
<a class="reference internal image-reference" href="../../_images/cup1.svg"><img alt="cup tree" class="align-center" src="../../_images/cup1.svg" style="width: 500px;" /></a>
<p>So it’s recursive! All <a class="reference internal" href="#equation-graft1">(19)</a> does is the pass the work down one level. But that’s enough because all prods eventually end with zeros and then <a class="reference internal" href="#equation-graft0">(18)</a> kicks in. By the way, you can safely assume that <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> are both the same length in <a class="reference internal" href="#equation-graft1">(19)</a> by padding the shorter one with zeros.</p>
<div class="admonition-historical-clarification admonition">
<p class="admonition-title">Historical Clarification</p>
<p>Just because I’m currently claiming this is the simplest possible operation, doesn’t mean it was the first one I wrote down! In fact, the first operation I came up with was not well-defined. I found this out by trying to get python to compute it for me on the first 50 numbers. Python complained, so I mindlessly messed around with the base cases until something worked. The end result was something that could be eventually boiled down to <a class="reference internal" href="#equation-graft0">(18)</a> and <a class="reference internal" href="#equation-graft1">(19)</a>. So python deserves the credit for this one.</p>
</div>
<p>Let’s see it in action! Here’s a detailed walkthrough for how to compute <span class="math notranslate nohighlight">\(4 \sqcup 3\)</span>:</p>
<a class="reference internal image-reference" href="../../_images/egcup1.svg"><img alt="cup tree" class="align-center" src="../../_images/egcup1.svg" style="width: 500px;" /></a>
<p>Here’s a more complicated example: <span class="math notranslate nohighlight">\(40 \sqcup 90\)</span> (remember that <span class="math notranslate nohighlight">\(40 = 2^3 \times 5\)</span> and <span class="math notranslate nohighlight">\(90 = 2 \times 3^2 \times 5\)</span>):</p>
<a class="reference internal image-reference" href="../../_images/egcup2.svg"><img alt="cup tree" class="align-center" src="../../_images/egcup2.svg" style="width: 750px;" /></a>
<p>The trick is to start off with everything padded so that they have roughly the same shape, then work bottom-up. Here’s a few more examples:</p>
<div class="pst-scrollable-table-container"><table class="table table-center">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(x\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(y\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(x \sqcup y\)</span></p></th>
<th class="head"><p>as numbers</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcup 2 = 2\)</span></p></td>
</tr>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p3.svg"><img alt="3 as tree" class="align-center" src="../../_images/p3.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p6.svg"><img alt="6 as tree" class="align-center" src="../../_images/p6.svg" style="height: 50px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcup 3 = 6\)</span></p></td>
</tr>
<tr class="row-even"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p4.svg"><img alt="4 as tree" class="align-center" src="../../_images/p4.svg" style="height: 100px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p4.svg"><img alt="4 as tree" class="align-center" src="../../_images/p4.svg" style="height: 100px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcup 4 = 4\)</span></p></td>
</tr>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p5.svg"><img alt="5 as tree" class="align-center" src="../../_images/p5.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p10.svg"><img alt="10 as tree" class="align-center" src="../../_images/p10.svg" style="height: 50px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcup 5 = 10\)</span></p></td>
</tr>
<tr class="row-even"><td><a class="reference internal image-reference" href="../../_images/p4.svg"><img alt="2 as tree" class="align-center" src="../../_images/p4.svg" style="height: 100px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p8.svg"><img alt="3 as tree" class="align-center" src="../../_images/p8.svg" style="height: 100px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p64.svg"><img alt="64 as tree" class="align-center" src="../../_images/p64.svg" style="height: 100px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(4 \sqcup 8 = 64\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>If you can’t see the pattern yet, I encourage you to try some examples out yourself either by hand or with <a class="reference internal" href="draw.html#sections-draw-ops"><span class="std std-ref">this code</span></a>.</p>
<p>The easiest way to understand <span class="math notranslate nohighlight">\(x \sqcup y\)</span> is to imagine placing <span class="math notranslate nohighlight">\(x\)</span> on top of <span class="math notranslate nohighlight">\(y\)</span> and keeping all the longest branches. When botanists merge trees together like this its called grafting, so I call <span class="math notranslate nohighlight">\(x \sqcup y\)</span> the <strong>graft</strong> of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p>If you look at the final column of the table, you might notice some other patterns:</p>
<ol class="arabic simple">
<li><p>When <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> don’t share factors, they are multiplied.</p></li>
<li><p><span class="math notranslate nohighlight">\(x \sqcup x = x\)</span>. You can see the proof of that below, which is also our first example of a purely productive proof.</p></li>
<li><p>When <span class="math notranslate nohighlight">\(x \neq y\)</span> but they do share some factors, those factors are combined.</p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-text">Click me for proof of idempotence</span><span class="sd-summary-state-marker sd-summary-chevron-right"><svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-right" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.72 18.78a.75.75 0 0 1 0-1.06L14.44 12 8.72 6.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018l6.25 6.25a.75.75 0 0 1 0 1.06l-6.25 6.25a.75.75 0 0 1-1.06 0Z"></path></svg></span></summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">This is our first instance of productive induction!</p>
<p class="sd-card-text">Remember from <a class="reference internal" href="../pre/numbers.html#sections-numbers-induction"><span class="std std-ref">here</span></a> that additive induction proves something for every number by showing that it holds for <span class="math notranslate nohighlight">\(0\)</span>, and that if it holds for <span class="math notranslate nohighlight">\(n\)</span> then it holds for <span class="math notranslate nohighlight">\(n+1\)</span>.</p>
<p class="sd-card-text">So productive induction is very similar: first show that some property holds for <span class="math notranslate nohighlight">\(0\)</span>. Then assume that it holds for <span class="math notranslate nohighlight">\(x_1, ..., x_n\)</span> and show that it holds for <span class="math notranslate nohighlight">\([x_1, ..., x_n]\)</span>. Since all prods are built in such a way, this proves the property holds for every prod.</p>
<div class="proof theorem admonition" id="graftidem">
<p class="admonition-title"><span class="caption-number">Theorem 6 </span></p>
<section class="theorem-content" id="proof-content">
<p class="sd-card-text"><span class="math notranslate nohighlight">\(x \sqcup x = x\)</span></p>
</section>
</div><div class="proof admonition" id="proof">
<p class="sd-card-text">Proof.    Base case (<span class="math notranslate nohighlight">\(x=0\)</span>): <span class="math notranslate nohighlight">\(0 \sqcup 0 = 0\)</span> by <a class="reference internal" href="#equation-graft0">(18)</a>.</p>
<p class="sd-card-text">Inductive step (<span class="math notranslate nohighlight">\(x = [x_1, ..., x_n]\)</span>): Assume for inductive hypothesis that <span class="math notranslate nohighlight">\(x_i \sqcup x_i = x_i\)</span>, for every <span class="math notranslate nohighlight">\(i \leq n\)</span>.</p>
<p class="sd-card-text">Then <span class="math notranslate nohighlight">\(x \sqcup x = [x_1, ..., x_n] \sqcup [x_1, ..., x_n] = [x_1 \sqcup x_1, ..., x_n \sqcup x_n] = [x_1, ..., x_n] = x\)</span>, where the second equality comes from <a class="reference internal" href="#equation-graft1">(19)</a> and the third from IH.</p>
<p class="sd-card-text">Done.</p>
</div>
</div>
</details><p>Those properties make grafting look a lot like LCM. I initially thought they were the same. But my trusty method of making wildly optimistic conjectures then getting python to check on the first 50 numbers showed me a very crucial difference: LCM takes the additive max of the exponents, while graft takes the graft of the exponents (because its recursive). This has dramatic consequences: <span class="math notranslate nohighlight">\(lcm(4, 8) = 8\)</span>, but <span class="math notranslate nohighlight">\(4 \sqcup 8 = 64 = 2^6\)</span>. In this case, the exponents were multiplied but that’s just because the exponents <span class="math notranslate nohighlight">\(2\)</span> and <span class="math notranslate nohighlight">\(3\)</span> don’t share factors (try out an example where they do like <span class="math notranslate nohighlight">\(4 \sqcup 16\)</span>).</p>
<p>We’ll see in the <a class="reference internal" href="latt.html#sections-lattice"><span class="std std-ref">next section</span></a> that graft shares a lot of <em>algebraic</em> properties with LCM, but hopefully you can nevertheless appreciate that they are very different functions indeed. I do not recommend trying to interpret graft additively.</p>
</section>
<section id="and-prune">
<h3>… and prune<a class="headerlink" href="#and-prune" title="Link to this heading">#</a></h3>
<p>We’ve seen with graft that a very simple definition can produce quite a cool operation. So why not do it again? There’s a very natural dual operation to graft, which I will denote <span class="math notranslate nohighlight">\(x \sqcap y\)</span>, that can be defined as follows:</p>
<div class="math notranslate nohighlight" id="equation-prune0">
<span class="eqno">(20)<a class="headerlink" href="#equation-prune0" title="Link to this equation">#</a></span>\[   0 \sqcap x = 0 = x \sqcap 0\]</div>
<div class="math notranslate nohighlight" id="equation-prune1">
<span class="eqno">(21)<a class="headerlink" href="#equation-prune1" title="Link to this equation">#</a></span>\[   [x_1, ..., x_n] \sqcap [y_1, ..., y_n] = [x_1 \sqcap y_1, ..., x_n \sqcap y_n]\]</div>
<p>This is almost identical to graft. The only real difference is that the base case <a class="reference internal" href="#equation-prune0">(20)</a> destroys branches where <a class="reference internal" href="#equation-graft0">(18)</a> preserves them. Since lopping branches off trees is called pruning, I call the operation <span class="math notranslate nohighlight">\(x \sqcap y\)</span> the <strong>prune</strong> of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>. Here’s a new table of examples:</p>
<div class="pst-scrollable-table-container"><table class="table table-center">
<thead>
<tr class="row-odd"><th class="head"><p><span class="math notranslate nohighlight">\(x\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(y\)</span></p></th>
<th class="head"><p><span class="math notranslate nohighlight">\(x \sqcap y\)</span></p></th>
<th class="head"><p>as numbers</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcap 2 = 2\)</span></p></td>
</tr>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p3.svg"><img alt="3 as tree" class="align-center" src="../../_images/p3.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p1.svg"><img alt="1 as tree" class="align-center" src="../../_images/p1.svg" style="height: 25px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcap 3 = 1\)</span></p></td>
</tr>
<tr class="row-even"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p4.svg"><img alt="4 as tree" class="align-center" src="../../_images/p4.svg" style="height: 100px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcap 4 = 2\)</span></p></td>
</tr>
<tr class="row-odd"><td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p5.svg"><img alt="5 as tree" class="align-center" src="../../_images/p5.svg" style="height: 50px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p1.svg"><img alt="1 as tree" class="align-center" src="../../_images/p1.svg" style="height: 25px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(2 \sqcap 5 = 1\)</span></p></td>
</tr>
<tr class="row-even"><td><a class="reference internal image-reference" href="../../_images/p4.svg"><img alt="2 as tree" class="align-center" src="../../_images/p4.svg" style="height: 100px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p8.svg"><img alt="3 as tree" class="align-center" src="../../_images/p8.svg" style="height: 100px;" /></a>
</td>
<td><a class="reference internal image-reference" href="../../_images/p2.svg"><img alt="2 as tree" class="align-center" src="../../_images/p2.svg" style="height: 50px;" /></a>
</td>
<td><p><span class="math notranslate nohighlight">\(4 \sqcap 8 = 2\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>Hopefully you can see that pruning is very similar to GCD. In particular, <span class="math notranslate nohighlight">\(gcd(x, y) = 1\)</span> iff <span class="math notranslate nohighlight">\(x \sqcap y = 1\)</span>. Once again there’s some important differences: for example, <span class="math notranslate nohighlight">\(gcd(4, 8) = 4\)</span> but <span class="math notranslate nohighlight">\(4 \sqcap 8 = 2\)</span>. As before, you can play around with <a class="reference internal" href="draw.html#sections-draw-ops"><span class="std std-ref">the code</span></a> if you want.</p>
<p>Here’s a brief highlight of some other properties of these operations. If you don’t know what the words mean, don’t worry about it.</p>
<ul class="simple">
<li><p>Like any mergey operation worth its salt, graft is a commutative monoid.</p>
<ul>
<li><p>The identity is obviously <span class="math notranslate nohighlight">\(0\)</span> because of the base case <a class="reference internal" href="#equation-graft0">(18)</a>. But <span class="math notranslate nohighlight">\([]\)</span> is also the identity on everything else, which you can check for yourself.</p></li>
<li><p>I spent the longest time trying to make it a group, because at the time groups were the only structure I was familiar with, but you can’t. Because of the idempotence, for one thing.</p></li>
</ul>
</li>
<li><p>Although its not the least, graft does give you a common multiple. Similarly, prune gives you a (not-necessarily-greatest) common divisor.</p></li>
<li><p>Prune distributes over graft! I’ll prove this in the next section, but perhaps you were already wondering.</p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "prodgang/prod",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./words/prod"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="defs.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Define</p>
      </div>
    </a>
    <a class="right-next"
       href="latt.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Lattices</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#counter-productive-operations">Counter-productive operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#addition">Addition</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#multiplication">Multiplication</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exponentiation">Exponentiation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#list-operations">List operations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#productive-operations">Productive operations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grokking-graft">Grokking Graft</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#and-prune">… and prune</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By PROD GANG
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p> © Copyright I sure hope you do </p>
</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>